"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[191],{713:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(274),c=a(359),s=a(294),n=a(686),i=a.n(n),h=(0,c.Z)("BASE_URL"),o=(0,c.Z)("KEY_API");const l=new class{constructor(){Object.defineProperty(this,h,{writable:!0,value:"https://api.themoviedb.org/3/"}),Object.defineProperty(this,o,{writable:!0,value:"61921ddc4cd8cf52818e306ab3e4996a"})}async getData(e){return(await s.Z.get(e)).data}handleError(e){i().Notify.failure(e.response.data.message)}async getMovieReviews(e){try{return await this.getData("".concat((0,r.Z)(this,h)[h],"/movie/").concat(e,"/reviews?language=en-US&api_key=").concat((0,r.Z)(this,o)[o]))}catch(t){this.handleError(t)}}async getMovieCredits(e){try{return await this.getData("".concat((0,r.Z)(this,h)[h],"/movie/").concat(e,"/credits?language=en-US&api_key=").concat((0,r.Z)(this,o)[o]))}catch(t){this.handleError(t)}}async getMovieDetail(e){try{return await this.getData("".concat((0,r.Z)(this,h)[h],"movie/").concat(e,"?language=en-US&api_key=").concat((0,r.Z)(this,o)[o]))}catch(t){this.handleError(t)}}async getSearch(e,t){try{return await this.getData("".concat((0,r.Z)(this,h)[h],"/search/movie?api_key=").concat((0,r.Z)(this,o)[o],"&query=").concat(e,"&include_adult=false&language=en-US&page=").concat(t))}catch(a){this.handleError(a)}}async getTrend(){try{return await this.getData("".concat((0,r.Z)(this,h)[h],"trending/all/day?api_key=").concat((0,r.Z)(this,o)[o]))}catch(e){this.handleError(e)}}}},191:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(713),c=a(791),s=a(87),n=a(689),i=a(184);const h=()=>{const[e,t]=(0,c.useState)([]),[a,h]=(0,c.useState)(1),[o,l]=(0,s.lr)(),u=o.get("query"),d=(0,n.TH)();(0,c.useEffect)((()=>{u&&r.Z.getSearch(u,a).then((e=>{t((t=>[...e.results])),h((e=>e++))}))}),[u,a]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("form",{className:"searchForm",onSubmit:e=>{e.preventDefault(),l({query:e.target.searchInput.value})},children:[(0,i.jsx)("button",{type:"submit",className:"searchForm-button",children:(0,i.jsx)("span",{className:"button-label",children:"Search"})}),(0,i.jsx)("input",{className:"searchForm-input",type:"text",name:"searchInput",placeholder:"Search films"})]}),(0,i.jsx)("ul",{children:e.map((e=>(0,i.jsx)("li",{children:(0,i.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:d},children:e.title})},e.id)))})]})},o=()=>(0,i.jsx)("div",{className:"searchbar",children:(0,i.jsx)(h,{})})}}]);
//# sourceMappingURL=191.16a570be.chunk.js.map